# ููุงุณุจุงุชู โ ููุตุฉ ุญุฌุฒ ุงูููุงุณุจุงุช

ููุตุฉ ูุชูุงููุฉ ูุฅูุดุงุก ูุญุฌุฒ ุงูููุงุณุจุงุช ูุจููุฉ ุจู **React 18 + TypeScript** ูู ุงููุงุฌูุฉ ู**GraphQL + Apollo Server** ูู ุงูุฎูููุฉ ูุน ุฏุนู ุงูุฅุดุนุงุฑุงุช ุงูููุฑูุฉ ุนุจุฑ **Subscriptions**.

---

## ุฌุฏูู ุงููุญุชููุงุช

- [ูุธุฑุฉ ุนุงูุฉ](#ูุธุฑุฉ-ุนุงูุฉ)
- [ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ](#ุงูููุฒุงุช-ุงูุฑุฆูุณูุฉ)
- [ุงูุจููุฉ ุงูุชูููุฉ](#ุงูุจููุฉ-ุงูุชูููุฉ)
- [ูุชุทูุจุงุช ุงูุชุดุบูู](#ูุชุทูุจุงุช-ุงูุชุดุบูู)
- [ุงูุชุซุจูุช ูุงูุฅุนุฏุงุฏ](#ุงูุชุซุจูุช-ูุงูุฅุนุฏุงุฏ)
- [ุงูุจููุฉ ุงููููููุฉ](#ุงูุจููุฉ-ุงููููููุฉ)
- [ุงููุนูุงุฑูุฉ](#ุงููุนูุงุฑูุฉ)
- [ุงูุงุฎุชุจุงุฑุงุช](#ุงูุงุฎุชุจุงุฑุงุช)
- [ูุงุฌูุฉ GraphQL](#ูุงุฌูุฉ-graphql)
- [ุงูุฃูุงู ูุงููุตุงุฏูุฉ](#ุงูุฃูุงู-ูุงููุตุงุฏูุฉ)
- [ุงููุดุฑ ูุงูุฅูุชุงุฌ](#ุงููุดุฑ-ูุงูุฅูุชุงุฌ)
- [ุงูุชูุซูู](#ุงูุชูุซูู)
- [ุงูุชุฑุฎูุต](#ุงูุชุฑุฎูุต)

---

## ูุธุฑุฉ ุนุงูุฉ

**ููุงุณุจุงุชู** ูุธุงู ุดุงูู ูุฅุฏุงุฑุฉ ุงูููุงุณุจุงุช ุงูุญุฏูุซุฉ. ูุณูุญ ูููุณุชุฎุฏููู ุจู:

- ุฅูุดุงุก ููุงุณุจุงุช ูุน ุชุญุฏูุฏ ุงูุชูุงุตูู (ุงูุนููุงูุ ุงููุตูุ ุงูุณุนุฑุ ุงูุชุงุฑูุฎ)
- ุญุฌุฒ ุงูููุงุณุจุงุช ุงูุชู ุฃูุดุฃูุง ูุณุชุฎุฏููู ุขุฎุฑูู
- ุฅุฏุงุฑุฉ ุงูุญุฌูุฒุงุช ูุฅูุบุงุฆูุง ูุชุชุจุน ุงูุชุญุฏูุซุงุช ุงูููุฑูุฉ
- ุงูุจุญุซ ุนู ุงูููุงุณุจุงุช ุจุงูุนููุงู ุฃู ุงููุตู
- ุงูุชุตูุญ ุจุงูุตูุญุงุช (Infinite Scroll Pagination)
- ุชุนุฏูู ูุญุฐู ุงูููุงุณุจุงุช ุงูุฎุงุตุฉ
- ุนุฑุถ ูููุงุช ุงููุณุชุฎุฏููู ูููุงุณุจุงุชูู
- ุชููู ุฅุดุนุงุฑุงุช ููุฑูุฉ ุนูุฏ ุฅุถุงูุฉ ููุงุณุจุฉ ุฌุฏูุฏุฉ

ุงููุธุงู ูุตูู ุจูุงุฌูุฉ ุนุฑุจูุฉ ูุงููุฉ ูุน ุฏุนู RTL ูุชุตููู ูุชุฌุงูุจ ูุนูู ุนูู ุฌููุน ุงูุฃุฌูุฒุฉ.

---

## ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

### ุงููุตุงุฏูุฉ ูุงูุฃูุงู
- ุชุณุฌูู ุญุณุงุจ ุฌุฏูุฏ ูุน ุชุดููุฑ bcrypt
- ุชุณุฌูู ุฏุฎูู ุขูู ูุน JWT tokens
- ุญูุงูุฉ ุงููุณุงุฑุงุช ุงูุฎุงุตุฉ (Private Routes)
- ุชุนุฏูู ุงูููู ุงูุดุฎุตู ูุญุฐู ุงูุญุณุงุจ

### ุฅุฏุงุฑุฉ ุงูููุงุณุจุงุช
- ุฅูุดุงุก ููุงุณุจุงุช ูุน ุชุญุฏูุฏ ุงูุณุนุฑ ูุงูุชุงุฑูุฎ
- ุนุฑุถ 8 ููุงุณุจุงุช ููู ุตูุญุฉ
- ุจุญุซ ุฏููุงูููู (debounced 300ms)
- ุชุนุฏูู ูุญุฐู ุงูููุงุณุจุงุช ุงูุฎุงุตุฉ

### ูุธุงู ุงูุญุฌูุฒุงุช
- ุญุฌุฒ ุงูููุงุณุจุงุช ูุน ุงูุชุญูู ูู ุงูุตูุงุญูุงุช
- ุชุญุฏูุซ ููุฑู ููุงุฆูุฉ ุงูุญุฌูุฒุงุช
- ููุน ุญุฌุฒ ููุงุณุจุงุชู ุงูุดุฎุตูุฉ
- ุฅูุบุงุก ุงูุญุฌุฒ ุจุณูููุฉ

### ุงูุฅุดุนุงุฑุงุช ุงูููุฑูุฉ
- WebSocket subscriptions ููููุงุณุจุงุช ุงูุฌุฏูุฏุฉ
- ุชุญุฏูุซ ุงูุญุฌูุฒุงุช ูู ุงูููุช ุงููุนูู
- ุฅุดุนุงุฑุงุช ุจุตุฑูุฉ ููุฑูุฉ

### ุงููุงุฌูุฉ ูุงูุชุตููู
- ุชุตููู ูุชุฌุงูุจ 100% (Mobile-first)
- ุฏุนู ูุงูู ููุนุฑุจูุฉ ูุงุชุฌุงู RTL
- ุดุจูุฉ ุฏููุงููููุฉ: 4/3/2/1 ุจุทุงูุฉ ุญุณุจ ุญุฌู ุงูุดุงุดุฉ
- ุฃุฒุฑุงุฑ ูุญุณููุฉ ูุน ุชุฃุซูุฑุงุช hover/focus

### ุงูุฃุฏุงุก ูุงูุชุญุณููุงุช
- Apollo Client optimistic updates
- Debounced search
- Code splitting ูุน Vite

---

## ุงูุจููุฉ ุงูุชูููุฉ

### Frontend

| ุงูุชูููุฉ | ุงูุฅุตุฏุงุฑ | ุงูุฏูุฑ |
|---------|---------|------|
| React | 18.3.1 | ูุงุฌูุงุช ุงููุณุชุฎุฏู |
| TypeScript | 5.6 | ุงููุบุฉ ุงูุจุฑูุฌูุฉ |
| Vite | 6.4.1 | ุฃุฏุงุฉ ุงูุจูุงุก |
| Apollo Client | 3.12.4 | GraphQL + ุฅุฏุงุฑุฉ ุงูุญุงูุฉ |
| React Router | 7.1.1 | ุงูุชูุฌูู |
| Bootstrap | 5.3.3 | ุชุตุงููู ูุงุจูุฉ ููุงุณุชุฎุฏุงู |

### Backend

| ุงูุชูููุฉ | ุงูุฅุตุฏุงุฑ | ุงูุฏูุฑ |
|---------|---------|------|
| Node.js | 18+ | ุจูุฆุฉ ุงูุชุดุบูู |
| Apollo Server | 4.11.3 | ุฎุงุฏู GraphQL |
| Express | 4.21.2 | ุฅุทุงุฑ ุงูุนูู |
| MongoDB | 8.x | ูุงุนุฏุฉ ุงูุจูุงูุงุช |
| JWT | 9.0.2 | ุงููุตุงุฏูุฉ |
| bcryptjs | 2.4.3 | ุชุฌุฒุฆุฉ ูููุงุช ุงููุฑูุฑ |

---

## ูุชุทูุจุงุช ุงูุชุดุบูู

- **Node.js 18+** ู **npm 9+**
- **MongoDB 6.0+** (ูุญูู ุฃู MongoDB Atlas)
- **ูุชุตูุญ ุญุฏูุซ** ูุฏุนู ES2020+

---

## ุงูุชุซุจูุช ูุงูุฅุนุฏุงุฏ

### 1. ุงุณุชูุณุงุฎ ุงููุดุฑูุน

```bash
git clone https://github.com/username/web-booking-e1.git
cd web-booking-e1
```

### 2. ุฅุนุฏุงุฏ ุงูุฎุงุฏู

```bash
cd server
npm install
```

ุฃูุดุฆ ููู `.env`:

```env
MONGODB_URI=mongodb://localhost:27017/event-booking
JWT_SECRET=your-super-secret-key-change-in-production
PORT=4000
NODE_ENV=development
```

### 3. ุฅุนุฏุงุฏ ุงูุนููู

```bash
cd ../client
npm install
```

ุฃูุดุฆ ููู `.env.local`:

```env
VITE_GRAPHQL_HTTP_URL=http://localhost:4000/graphql
VITE_GRAPHQL_WS_URL=ws://localhost:4000/graphql
VITE_APP_DOMAIN=http://localhost:5173
VITE_BASE_PATH=/
```

### 4. ุชุดุบูู ุงูุชุทุจูู

**Terminal 1 โ ุงูุฎุงุฏู:**
```bash
cd server
npm run dev
```
ูุนูู ุนูู: `http://localhost:4000/graphql`

**Terminal 2 โ ุงูุนููู:**
```bash
cd client
npm run dev
```
ูุนูู ุนูู: `http://localhost:5173`

---

## ุงูุจููุฉ ุงููููููุฉ

```
web-booking-e1/
โ
โโโ client/                          # React Frontend
โ   โโโ src/
โ   โ   โโโ components/              # ุงูููููุงุช ุงููุงุจูุฉ ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู
โ   โ   โ   โโโ Alert.tsx
โ   โ   โ   โโโ BookingItem.tsx
โ   โ   โ   โโโ EventItem.tsx
โ   โ   โ   โโโ Navbar.tsx
โ   โ   โ   โโโ PrivateRoute.tsx
โ   โ   โ   โโโ ProfileEditor.tsx
โ   โ   โ   โโโ SimpleModal.tsx
โ   โ   โ   โโโ Spinner.tsx
โ   โ   โ   โโโ UserDropdown.tsx
โ   โ   โโโ pages/                   # ุตูุญุงุช ุงูุชุทุจูู
โ   โ   โ   โโโ Bookings.tsx
โ   โ   โ   โโโ Events.tsx
โ   โ   โ   โโโ Login.tsx
โ   โ   โ   โโโ SignUp.tsx
โ   โ   โ   โโโ UserEvents.tsx
โ   โ   โ   โโโ NotFound.tsx
โ   โ   โโโ context/                 # ุฅุฏุงุฑุฉ ุงูุญุงูุฉ ุงูุนุงูุฉ
โ   โ   โ   โโโ auth-context.ts
โ   โ   โ   โโโ AuthProvider.tsx
โ   โ   โโโ graphql/                 # ุงุณุชุนูุงูุงุช GraphQL
โ   โ   โ   โโโ fragments.ts
โ   โ   โ   โโโ queries.ts
โ   โ   โโโ hooks/                   # ุฎุทุงูุงุช ูุฎุตุตุฉ
โ   โ   โ   โโโ useAuth.ts
โ   โ   โโโ utils/                   # ุฏูุงู ูุณุงุนุฏุฉ
โ   โ   โ   โโโ formatDate.ts
โ   โ   โโโ tests/                   # ุงุฎุชุจุงุฑุงุช Vitest
โ   โ   โ   โโโ config.test.ts
โ   โ   โ   โโโ types.test.ts
โ   โ   โ   โโโ formatDate.test.ts
โ   โ   โ   โโโ useAuth.test.tsx
โ   โ   โ   โโโ graphql.test.ts
โ   โ   โโโ types.ts
โ   โ   โโโ config.ts
โ   โ   โโโ setupTests.ts
โ   โ   โโโ App.tsx
โ   โ   โโโ main.tsx
โ   โโโ package.json
โ
โโโ server/                          # GraphQL Backend
โ   โโโ src/
โ   โ   โโโ models/                  # ููุงุฐุฌ MongoDB
โ   โ   โ   โโโ booking.ts
โ   โ   โ   โโโ event.ts
โ   โ   โ   โโโ user.ts
โ   โ   โโโ repositories/            # ุทุจูุฉ ุงููุตูู ููุจูุงูุงุช
โ   โ   โ   โโโ repository.interface.ts
โ   โ   โ   โโโ base.repository.ts
โ   โ   โ   โโโ user.repository.ts
โ   โ   โ   โโโ event.repository.ts
โ   โ   โ   โโโ booking.repository.ts
โ   โ   โ   โโโ index.ts
โ   โ   โโโ validators/
โ   โ   โ   โโโ index.ts
โ   โ   โโโ resolvers/               # GraphQL Resolvers
โ   โ   โ   โโโ auth.ts
โ   โ   โ   โโโ booking.ts
โ   โ   โ   โโโ event.ts
โ   โ   โ   โโโ index.ts
โ   โ   โ   โโโ transform.ts
โ   โ   โโโ schema/
โ   โ   โ   โโโ index.ts
โ   โ   โโโ middlewares/
โ   โ   โ   โโโ isAuth.ts
โ   โ   โโโ tests/
โ   โ   โ   โโโ test.helpers.ts
โ   โ   โ   โโโ repositories.test.ts
โ   โ   โ   โโโ comprehensive.test.ts
โ   โ   โ   โโโ api.test.ts
โ   โ   โโโ index.ts
โ   โโโ package.json
โ
โโโ docs/                            # ุงูุชูุซูู
โ   โโโ database-abstraction.md
โ   โโโ repository-quick-reference.md
โ   โโโ graphql-api.md
โ   โโโ testing.md
โ
โโโ README.md
```

---

## ุงููุนูุงุฑูุฉ

### Repository Pattern (ุงูุฎุงุฏู)

ุงูุฎุงุฏู ูุณุชุฎุฏู **ููุท Repository** ููุตู ููุทู ุงููุตูู ููุจูุงูุงุช ุนู ููุทู ุงูุนูู:

```
GraphQL Resolvers โ Repository Manager โ Specialized Repositories โ Mongoose Models
```

| ุงููุณุชูุฏุน | ุงููููุฉ |
|---------|--------|
| `BaseRepository` | ุนูููุงุช CRUD ุนุงูุฉ ูุน pagination (max 50) |
| `UserRepository` | `findByEmail`, `emailExists`, `updateProfile` |
| `EventRepository` | `findAllWithCreator`, `search`, `titleExists` |
| `BookingRepository` | `userHasBooked`, `createAndPopulate`, `deleteByUserCascade` |
| `RepositoryManager` | Singleton ูููุตูู ุงูููุญุฏ |

> ุงูุชูุตูู: [docs/database-abstraction.md](docs/database-abstraction.md) ยท [docs/repository-quick-reference.md](docs/repository-quick-reference.md)

### Validators (ุงูุชุญูู ูู ุงููุฏุฎูุงุช)

ุฑุณุงุฆู ุฎุทุฃ ุนุฑุจูุฉ ุชูุฑุณู ูู `GraphQLError` ูุน ููุฏ `BAD_USER_INPUT`:
- `validateUserInput` โ ุงูุชุญูู ูู ุจูุงูุงุช ุงูุชุณุฌูู
- `validateLoginInput` โ ุงูุชุญูู ูู ุจูุงูุงุช ุงูุฏุฎูู
- `validateEventInput` โ ุงูุชุญูู ูู ุจูุงูุงุช ุงูููุงุณุจุฉ

### Auth Provider (ุงูุนููู)

ูููู `AuthProvider` ูุฏูุฑ ุญุงูุฉ ุงููุตุงุฏูุฉ ุนุจุฑ React Context. ุฎุทุงู `useAuth()` ูููุตูู ูู ุฃู ูููู.

---

## ุงูุงุฎุชุจุงุฑุงุช

### ุงุฎุชุจุงุฑุงุช ุงูุฎุงุฏู (131 ุงุฎุชุจุงุฑ)

```bash
cd server
npm run test:all
```

| ุงูุญุฒูุฉ | ุงูุฃูุฑ | ุงูุนุฏุฏ |
|--------|-------|-------|
| Repository Tests | `npm test` | 43 |
| Comprehensive Tests | `npm run test:comprehensive` | 45 |
| E2E API Tests | `npm run test:e2e` | 43 |

**ุงููุชุทูุจุงุช:** MongoDB ูุนูู ุนูู `localhost:27017`

### ุงุฎุชุจุงุฑุงุช ุงูุนููู (54 ุงุฎุชุจุงุฑ)

```bash
cd client
npm test
```

| ุงูููู | ุงูุนุฏุฏ | ุงูุชุบุทูุฉ |
|-------|-------|---------|
| `config.test.ts` | 9 | ุซูุงุจุช ุงูุชุทุจูู ูุฑูุงุจุท GraphQL |
| `types.test.ts` | 10 | ุฃููุงุน TypeScript |
| `formatDate.test.ts` | 11 | ุฏูุงู ุชูุณูู ุงูุชุงุฑูุฎ |
| `useAuth.test.tsx` | 5 | ุฎุทุงู ุงููุตุงุฏูุฉ |
| `graphql.test.ts` | 19 | ุนูููุงุช GraphQL (14 ุนูููุฉ) |

**ุงููุฌููุน ุงูููู: 185 ุงุฎุชุจุงุฑ**

> ุงูุชูุตูู: [docs/testing.md](docs/testing.md)

---

## ูุงุฌูุฉ GraphQL

**ููุทุฉ ุงููุตูู ุงููุงุญุฏุฉ:** `/graphql`

- HTTP: `http://localhost:4000/graphql`
- WebSocket: `ws://localhost:4000/graphql`
- ุงููุตุงุฏูุฉ: `Authorization: JWT <token>`

### ุงูุงุณุชุนูุงูุงุช

```graphql
events(searchTerm: String, skip: Int = 0, limit: Int = 8): [Event!]
getUserEvents(userId: ID!): [Event!]
bookings: [Booking!]
```

### ุงูุชุนุฏููุงุช

```graphql
# ุงููุตุงุฏูุฉ
createUser(userInput: UserInput): AuthData
login(email: String, password: String): AuthData
updateUser(updateUserInput: UpdateUserInput): User
deleteUser: Boolean

# ุงูููุงุณุจุงุช (๐ ุชุชุทูุจ ูุตุงุฏูุฉ)
createEvent(eventInput: EventInput): Event
updateEvent(eventId: ID, eventInput: UpdateEventInput): Event
deleteEvent(eventId: ID): [Event]

# ุงูุญุฌูุฒุงุช (๐ ุชุชุทูุจ ูุตุงุฏูุฉ)
bookEvent(eventId: ID): Booking
cancelBooking(bookingId: ID): Event
```

### ุงูุงุดุชุฑุงูุงุช

```graphql
eventAdded: Event      # ููุงุณุจุฉ ุฌุฏูุฏุฉ
bookingAdded: Booking  # ุญุฌุฒ ุฌุฏูุฏ
```

> ุงูุชูุตูู: [docs/graphql-api.md](docs/graphql-api.md)

---

## ุงูุฃูุงู ูุงููุตุงุฏูุฉ

- **JWT:** ุฅุตุฏุงุฑ ุนูุฏ ุงูุชุณุฌูู/ุงูุฏุฎููุ ุชุฎุฒูู ูู localStorageุ ุฅุฑุณุงูู ูุน ูู ุทูุจ
- **bcrypt:** ุชุดููุฑ ูููุงุช ุงููุฑูุฑ (salt rounds: 12)
- **Private Routes:** ุญูุงูุฉ ุงูุตูุญุงุช ูุฅุนุงุฏุฉ ุชูุฌูู ููู login
- **ุตูุงุญูุงุช GraphQL:**
  - ูุง ูููู ุญุฌุฒ ููุงุณุจุงุชู
  - ูุง ูููู ุชุนุฏูู ููุงุณุจุฉ ุงูุขุฎุฑูู
  - ูุง ูููู ุฅูุบุงุก ุญุฌุฒ ุงูุขุฎุฑูู

---

## ุงููุดุฑ ูุงูุฅูุชุงุฌ

### ุจูุงุก ุงููููุงุช

```bash
cd client && npm run build
cd server && npm run build
```

### ูุชุบูุฑุงุช ุงูุฅูุชุงุฌ

**ุงูุฎุงุฏู:**
```env
MONGODB_URI=mongodb+srv://user:pass@cluster.mongodb.net/event-booking
JWT_SECRET=<ููุชุงุญ ููู ุทููู>
NODE_ENV=production
PORT=4000
```

**ุงูุนููู:**
```env
VITE_GRAPHQL_HTTP_URL=https://your-api.com/graphql
VITE_GRAPHQL_WS_URL=wss://your-api.com/graphql
```

### ููุตุงุช ุงููุดุฑ

| ุงููููู | ุงูููุตุฉ |
|--------|--------|
| Frontend | Vercel / Netlify |
| Backend | Railway / Render |
| Database | MongoDB Atlas |

---

## ุงูุณูุฑูุจุชุงุช ุงููุชุงุญุฉ

### ุงูุนููู

```bash
npm run dev          # ุชุทููุฑ
npm run build        # ุจูุงุก
npm test             # ุงุฎุชุจุงุฑุงุช
npm run test:watch   # ุงุฎุชุจุงุฑุงุช ูุณุชูุฑุฉ
```

### ุงูุฎุงุฏู

```bash
npm run dev               # ุชุทููุฑ
npm run build             # ุจูุงุก TypeScript
npm start                 # ุฅูุชุงุฌ
npm test                  # ุงุฎุชุจุงุฑุงุช Repository (43)
npm run test:comprehensive # ุงุฎุชุจุงุฑุงุช ุดุงููุฉ (45)
npm run test:e2e          # ุงุฎุชุจุงุฑุงุช E2E (43)
npm run test:all          # ุฌููุน ุงูุงุฎุชุจุงุฑุงุช
```

---

## ุชุงุฑูุฎ ุงููุดุฑูุน

| ุงูุฅุตุฏุงุฑ | ุงูุชุบููุฑ ุงูุฑุฆูุณู |
|---------|----------------|
| v1.0.0 | ุงูุจููุฉ ุงูุฃุณุงุณูุฉ: GraphQL + MongoDB + React |
| v1.1.0 | ูุธุงู ุงููุตุงุฏูุฉ JWT |
| v1.2.0 | Repository Pattern ููุฎุงุฏู |
| v1.3.0 | Validators ุนุฑุจูุฉ |
| v1.4.0 | ุงุฎุชุจุงุฑุงุช ุดุงููุฉ (185 ุงุฎุชุจุงุฑ) |

---

## ุงูุชูุซูู

| ุงูููู | ุงููุตู |
|-------|-------|
| [docs/database-abstraction.md](docs/database-abstraction.md) | ุดุฑุญ Repository Pattern |
| [docs/repository-quick-reference.md](docs/repository-quick-reference.md) | ุฏููู ุณุฑูุน ูุฑุฌุนู |
| [docs/graphql-api.md](docs/graphql-api.md) | ุชูุซูู ูุงุฌูุฉ GraphQL |
| [docs/testing.md](docs/testing.md) | ุฏููู ุงูุงุฎุชุจุงุฑุงุช |
| [CONTRIBUTING.md](CONTRIBUTING.md) | ุฏููู ุงููุณุงููุฉ |

---

## ุงูุชุฑุฎูุต

ISC License โ ููููู ุงุณุชุฎุฏุงู ูุฐุง ุงููุดุฑูุน ุจุญุฑูุฉ.
