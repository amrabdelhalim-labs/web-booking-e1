# ุงูุฏุฑุณ ุงูุซุงูู: ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช MongoDB ๐๏ธ

> **ูุฏู ุงูุฏุฑุณ:** ููู ููู ูุชุตู ุงูุฎุงุฏู ุจูุงุนุฏุฉ ุจูุงูุงุช MongoDB ูููู ุชูุนุฑููู ุงูุฅุนุฏุงุฏุงุช ุจุดูู ุขูู

---

## 1. ููุงุฐุง ูุญุชุงุฌ ูุงุนุฏุฉ ุจูุงูุงุชุ

ุชุฎููู ุฃู ุงูุชุทุจูู ุจุฏูู ูุงุนุฏุฉ ุจูุงูุงุช = **ุฐุงูุฑุฉ ูุตูุฑุฉ**. ูู ูุง ุชุญูุธู ูุฎุชูู ุนูุฏ ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุงุฏู!

ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู **ุงูุฐุงูุฑุฉ ุงูุฏุงุฆูุฉ** ููุชุทุจูู โ ุงูููุงุณุจุงุชุ ุงูุญุฌูุฒุงุชุ ุจูุงูุงุช ุงููุณุชุฎุฏูููุ ูููุง ุชูุญูุธ ููุงู.

---

## 2. ูุง ูู MongoDBุ

| ุงูุฎุงุตูุฉ | ุงูุดุฑุญ |
|---------|-------|
| **ููุนู** | ูุงุนุฏุฉ ุจูุงูุงุช NoSQL (ุบูุฑ ุนูุงุฆููุฉ) |
| **ุงูุชุฎุฒูู** | ูุญูุธ ุงูุจูุงูุงุช ูู **Documents** (ูุซุงุฆู) ุดุจููุฉ ุจู JSON |
| **ุงููุฑููุฉ** | ูุง ูุดุชุฑุท ูููุฐุฌุงู ุซุงุจุชุงู ูู SQL |
| **ุงูุณุฑุนุฉ** | ุณุฑูุน ุฌุฏุงู ูููุฑุงุกุฉ |
| **ุงูุงุณุชุฎุฏุงู** | ุดุงุฆุน ุฌุฏุงู ูุน Node.js / JavaScript |

**ูุซุงู ูุงุถุญ:**
```
// ุจูุงูุงุช ูุณุชุฎุฏู ูุญููุธุฉ ูู MongoDB
{
  "_id": "64ab12...",
  "username": "ุฃุญูุฏ",
  "email": "ahmed@example.com",
  "password": "$2b$12$..."
}
```

---

## 3. ูุง ูู Mongooseุ

Mongoose ูู **ููุชุจุฉ ูุณูุทุฉ** (ODM) ุชุฌุนู ุงูุชุนุงูู ูุน MongoDB ุฃุณูู:

```
ุชุทุจูู Node.js  โโ  Mongoose  โโ  MongoDB
```

ุจุฏูู Mongoose: ุชูุชุจ ุงุณุชุนูุงูุงุช ูุนูุฏุฉ ุจูุฏูู.  
ูุน Mongoose: ุชูุชุจ ููุฏ TypeScript ูุธูู ูุณูู.

---

## 4. ููู ุงูุฅุนุฏุงุฏุงุช `config/index.ts`

```typescript
export const config = {
  port: process.env.PORT || 4000,
  dbUrl: process.env.DB_URL || "mongodb://localhost:27017/event-booking",
  jwtSecret: process.env.JWT_SECRET || "default_secret",
  appUrls: (process.env.APP_URLS || "http://localhost:5173")
              .split(",")
              .map(url => url.trim())
              .filter(Boolean),
};
```

### ุดุฑุญ ูู ุณุทุฑ:

**`process.env.PORT || 4000`**  
โ ุงุจุญุซ ุนู ูุชุบูุฑ ุจูุฆุฉ ุงุณูู `PORT`. ุฅุฐุง ูู ููุฌุฏ ูุงุณุชุฎุฏู `4000` ูุงูุชุฑุงุถู.

**`process.env.DB_URL || "mongodb://localhost:27017/event-booking"`**  
โ ุนููุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช. ูู ุงูุฅูุชุงุฌ ูููู ุนููุงู ุจุนูุฏ (Atlas ูุซูุงู).

**`process.env.JWT_SECRET || "default_secret"`**  
โ ุงูููุชุงุญ ุงูุณุฑู ูุชุดููุฑ ุงูู Tokens. **ูุง ุชุดุงุฑูู ุฃุจุฏุงู!**

**`appUrls: (...).split(",").map(...).filter(...)`**  
โ ูุงุฆูุฉ ุงูุนูุงููู ุงููุณููุญ ุจูุง ูู CORS. ููุจู ุนูุงููู ูุชุนุฏุฏุฉ ููุตููุฉ ุจูุงุตูุฉ.

---

## 5. ููุงุฐุง ูุณุชุฎุฏู `process.env`ุ

### ุงููุดููุฉ:
ุฅุฐุง ูุชุจุช ุงูุฅุนุฏุงุฏุงุช ูุจุงุดุฑุฉ ูู ุงูููุฏ:
```typescript
// โ ุฎุทุฃ - ูุง ุชูุนู ูุฐุง ุฃุจุฏุงู!
const jwtSecret = "my-super-secret-key";
```
ูุนูุฏ ุฑูุน ุงูููุฏ ุนูู GitHubุ ุณูุฑุงู ุงูุฌููุน! ๐ฑ

### ุงูุญู - ููู `.env`:
```
# .env (ูุง ููุฑูุน ุนูู GitHub ุฃุจุฏุงู)
PORT=4000
DB_URL=mongodb+srv://user:pass@cluster.mongodb.net/mydb
JWT_SECRET=my-real-secret-256-chars-long
APP_URLS=https://mysite.com,https://www.mysite.com
```

ุซู ูู ุงูููุฏ: `process.env.JWT_SECRET` โ ููุฑุฃ ุงููููุฉ ูู ุงูููู.

> **ูุงุนุฏุฉ ุฐูุจูุฉ:** ุงูููู `.env` ูุง ููุฑูุน ุฃุจุฏุงู ุนูู Git! ููุฐูู ูุฑุงู ูู `.gitignore`

---

## 6. ุงูุงุชุตุงู ุจู MongoDB ูู `index.ts`

```typescript
// ูู ููู server/src/index.ts
await mongoose.connect(config.dbUrl);
```

### ูุงุฐุง ูุญุฏุซ ููุงุ

```
1. ูุจุฏุฃ ุงูุฎุงุฏู
2. ูุชุตู Apollo Server ุจุงูุฅูุชุฑูุช (HTTP + WebSocket)
3. mongoose.connect() ูุชุตู ุจู MongoDB
4. ุนูุฏ ูุฌุงุญ ุงูุงุชุตุงู โ "โ Connected to MongoDB"
5. ุฅุฐุง ูุดู โ ูุธูุฑ ุงูุฎุทุฃ ููุชููู ุงูุชุทุจูู
```

### ููุงุฐุง `await`ุ

ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช ูุณุชุบุฑู ููุชุงู (ูุฏ ูููู ุนุจุฑ ุงูุดุจูุฉ).  
`await` ูุนูู: "ุงูุชุธุฑ ุญุชู ููุชูู ุงูุงุชุตุงู **ูุจู** ุฃู ุชููู."

ุจุฏูู `await`ุ ูุฏ ูุญุงูู ุงููุณุชุฎุฏู ุญูุธ ุจูุงูุงุช ูุจู ุฃู ููุชูู ุงูุงุชุตุงู! ๐ฅ

---

## 7. ููุงุฐุฌ ุงูุจูุงูุงุช (Mongoose Models)

ุจุนุฏ ุงูุงุชุตุงูุ ูุณุชุฎุฏู ุงูููุงุฐุฌ ููุชุนุงูู ูุน ุงูุจูุงูุงุช:

```typescript
// ูุซุงู ูุจุณุท ูู models/user.ts
const userSchema = new Schema({
  username: { type: String, required: true },
  email:    { type: String, required: true },
  password: { type: String, required: true },
});

const User = model("User", userSchema);
```

**ููู ููุณุชุฎุฏูุ**
```typescript
// ุฅูุดุงุก ูุณุชุฎุฏู ุฌุฏูุฏ
const user = await User.create({ username: "ุฃุญูุฏ", email: "...", password: "..." });

// ุจุญุซ ุจุงูุจุฑูุฏ ุงูุฅููุชุฑููู
const user = await User.findOne({ email: "ahmed@example.com" });
```

---

## 8. ููุฎุต ุฑุญูุฉ ุงูุงุชุตุงู

```
ููู .env
    โ (ูุชุบูุฑุงุช ุงูุจูุฆุฉ)
config/index.ts
    โ (ููุฑุฃ ุงูุฅุนุฏุงุฏุงุช)
server/src/index.ts
    โ (mongoose.connect)
MongoDB Database
    โ (ูุชููู ุงูุทูุจุงุช ุนุจุฑ)
Mongoose Models (User, Event, Booking)
```

---

## 10. ุฎูุงุตุฉ

- **MongoDB** = ูุงุนุฏุฉ ุจูุงูุงุช NoSQL ุชุญูุธ ุงูุจูุงูุงุช ููุซุงุฆู JSON
- **Mongoose** = ุงูููุชุจุฉ ุงูุชู ุชุณููู ุงุณุชุฎุฏุงู MongoDB ูุน TypeScript
- **config.ts** = ููุงู ูุงุญุฏ ูุฌููุน ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู
- **process.env** = ุงูุทุฑููุฉ ุงูุขููุฉ ูุชูุฑูุฑ ุงูุฅุนุฏุงุฏุงุช ุงูุณุฑูุฉ
- **await mongoose.connect()** = ููุชุธุฑ ุงูุงุชุตุงู ูุจู ุงูุจุฏุก ุจุงุณุชูุจุงู ุงูุทูุจุงุช
